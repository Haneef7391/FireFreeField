<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Green Energy, Crop Waste Submission</title>
  <link rel="stylesheet" href="Don't-waste.css">
</head>
<body class="page-index">

  <header>
    <h1>Green Energy Initiative</h1>
    <p class="contact">For support, call <strong>6303513991</strong></p>
  </header>

  <main>
    <!-- HERO -->
    <section class="hero">
      <h2 class="tagline"><span class="marquee">Don't Burn Crop Residue — Turn It Into Value</span></h2>
      <div class="images">
        <a href="green-energy.html">
          <img src="GE1.jpeg">
        </a>
        <img src="GE2.jpeg">
      </div>
    </section>

    <!-- FORM CARD -->
    <section class="form-section">
      <h3>Submit Your Crop Waste Details</h3>
    
      <form id="indexForm" novalidate>
    
        <!-- Full Name -->
        <div class="form-group">
          <label for="name">Full Name</label>
          <input id="name" name="name" type="text" placeholder="Enter your name" required>
        </div>
    
        <!-- Gender -->
        <div class="form-group">
          <label for="gender">Gender</label>
          <select id="gender" name="gender" required>
            <option value="">Select</option>
            <option>Female</option>
            <option>Male</option>
            <option>Other</option>
          </select>
          <div class="mobile-select custom-select">
            <div class="custom-select-display">Select</div>
            <div class="custom-select-options">
              <div>Female</div>
              <div>Male</div>
              <div>Other</div>
            </div>
          </div>
        </div>
    
        <!-- Mobile -->
        <div class="form-group">
          <label for="mobile">Mobile Number</label>
          <input id="mobile" name="mobile" type="tel" placeholder="10-digit mobile" required>
        </div>
    
        <!-- State + Mandal -->
        <div class="grid-2">
          <div class="form-group">
            <label for="state">State</label>
            <select id="state" name="state" required>
              <option value="">Choose</option>
              <option>Andhra Pradesh</option>
              <option>Telangana</option>
              <option>Karnataka</option>
              <option>Other</option>
            </select>
            <div class="mobile-select custom-select">
              <div class="custom-select-display">Choose</div>
              <div class="custom-select-options">
                <div>Andhra Pradesh</div>
                <div>Telangana</div>
                <div>Karnataka</div>
                <div>Other</div>
              </div>
            </div>
          </div>
    
          <div class="form-group">
            <label for="mandal">Mandal</label>
            <select id="mandal" name="mandal" required>
              <option value="">Choose</option>
              <option>Anaparthi</option>
              <option>Biccavolu</option>
              <option>Dowalaswaram</option>
              <option>Kadiam</option>
              <option>Rangampeta</option>
              <option>Rajanagaram</option>
              <option>Rajahmundry</option>
              <option>Seethanagaram</option>
              <option>Other</option>
            </select>
            <div class="mobile-select custom-select">
              <div class="custom-select-display">Choose</div>
              <div class="custom-select-options">
                <div>Anaparthi</div>
                <div>Biccavolu</div>
                <div>Dowalaswaram</div>
                <div>Kadiam</div>
                <div>Rangampeta</div>
                <div>Rajanagaram</div>
                <div>Rajahmundry</div>
                <div>Seethanagaram</div>
                <div>Other</div>
              </div>
            </div>
          </div>
        </div>
    
        <!-- Language -->
        <div class="form-group">
          <label for="language">Preferred Language</label>
          <select id="language" name="language" required>
            <option value="">Choose</option>
            <option>Telugu</option>
            <option>English</option>
            <option>Hindi</option>
            <option>Marati</option>
            <option>Urdu</option>
            <option>Other</option>
          </select>
          <div class="mobile-select custom-select">
            <div class="custom-select-display">Choose</div>
            <div class="custom-select-options">
              <div>Telugu</div>
              <div>English</div>
              <div>Hindi</div>
              <div>Marati</div>
              <div>Urdu</div>
              <div>Other</div>
            </div>
          </div>
        </div>
    
        <!-- Crop + Quantity -->
        <div class="grid-2">
          <div class="form-group">
            <label for="crop-waste">Crop Waste</label>
            <select id="crop-waste" name="cropWaste" required>
              <option value="">Choose</option>
              <option>Wheat</option>
              <option>Jowar</option>
              <option>Ragi</option>
              <option>Paddy</option>
              <option>Other</option>
            </select>
            <div class="mobile-select custom-select">
              <div class="custom-select-display">Choose</div>
              <div class="custom-select-options">
                <div>Wheat</div>
                <div>Jowar</div>
                <div>Ragi</div>
                <div>Paddy</div>
                <div>Other</div>
              </div>
            </div>
          </div>
    
          <div class="form-group">
            <label for="quantity">Quantity</label>
            <select id="quantity" name="quantity" required>
              <option value="">Choose</option>
              <option>1–5 Ton</option>
              <option>6–10 Ton</option>
              <option>11–15 Ton</option>
              <option>16–20 Ton</option>
            </select>
            <div class="mobile-select custom-select">
              <div class="custom-select-display">Choose</div>
              <div class="custom-select-options">
                <div>1–5 Ton</div>
                <div>6–10 Ton</div>
                <div>11–15 Ton</div>
                <div>16–20 Ton</div>
              </div>
            </div>
          </div>
        </div>
    
        <!-- Payment + Benefit -->
        <div class="grid-2">
          <div class="form-group">
            <label for="payment">Payment Mode</label>
            <select id="payment" name="payment" required>
              <option value="">Choose</option>
              <option>Phone Pay</option>
              <option>Google Pay</option>
            </select>
            <div class="mobile-select custom-select">
              <div class="custom-select-display">Choose</div>
              <div class="custom-select-options">
                <div>Phone Pay</div>
                <div>Google Pay</div>
              </div>
            </div>
          </div>
    
          <div class="form-group">
            <label for="benefit">Benefit Mode</label>
            <select id="benefit" name="benefit" required>
              <option value="">Choose</option>
              <option>Money</option>
              <option>Seeds</option>
              <option>Tools</option>
            </select>
            <div class="mobile-select custom-select">
              <div class="custom-select-display">Choose</div>
              <div class="custom-select-options">
                <div>Money</div>
                <div>Seeds</div>
                <div>Tools</div>
              </div>
            </div>
          </div>
        </div>
    
        <!-- Seeds -->
        <div class="form-group">
          <label for="seeds">Seed Type (if selected)</label>
          <select id="seeds" name="seeds">
            <option value="">Choose</option>
            <option>Paddy</option>
            <option>Sugar Cane</option>
            <option>Ragi</option>
            <option>Wheat</option>
            <option>Jowar</option>
            <option>Other</option>
          </select>
          <div class="mobile-select custom-select">
            <div class="custom-select-display">Choose</div>
            <div class="custom-select-options">
              <div>Paddy</div>
              <div>Sugar Cane</div>
              <div>Ragi</div>
              <div>Wheat</div>
              <div>Jowar</div>
              <div>Other</div>
            </div>
          </div>
        </div>
    
        <!-- Tools -->
        <div class="form-group">
          <label for="tools">Tool Type (if selected)</label>
          <select id="tools" name="tools">
            <option value="">Choose</option>
            <option>Crop Lifting Tools</option>
            <option>Crop Carrying Tools</option>
            <option>Crop Moving Tools</option>
            <option>Crop Cutting Tools</option>
            <option>Digging Tools</option>
            <option>Other</option>
          </select>
          <div class="mobile-select custom-select">
            <div class="custom-select-display">Choose</div>
            <div class="custom-select-options">
              <div>Crop Lifting Tools</div>
              <div>Crop Carrying Tools</div>
              <div>Crop Moving Tools</div>
              <div>Crop Cutting Tools</div>
              <div>Digging Tools</div>
              <div>Other</div>
            </div>
          </div>
        </div>
    
        <button type="submit">Submit</button>
        <footer>
          <p><a href="index.html">Back to main</a></p>
        </footer>
      </form>
    </section>
    

  </main>

  <footer>
    <p>&copy; 2025 Green Energy Initiative</p>
  </footer>

  <script>
    const form = document.getElementById("indexForm");

    form.addEventListener("submit", function (e) {
      e.preventDefault();

      let isValid = true;

      // Clear existing errors
      document.querySelectorAll(".error-msg").forEach(el => el.remove());
      document.querySelectorAll(".error-field").forEach(el => el.classList.remove("error-field"));

      // Validate required fields
      form.querySelectorAll("input[required], select[required]").forEach(field => {
        if (!field.value.trim()) {
          isValid = false;
          field.classList.add("error-field");

          const error = document.createElement("div");
          error.className = "error-msg";
          error.textContent = "This field is required.";
          field.parentNode.appendChild(error);
        }
      });

      if (!isValid) return;

      // MULTIPLE submissions: push to array in localStorage
      const formData = {};
      [...new FormData(form).entries()].forEach(([k, v]) => formData[k] = v);

      formData.id = Date.now();
      formData.createdAt = new Date().toISOString();

      const existing = JSON.parse(localStorage.getItem("submissions") || "[]");
      existing.push(formData);

      localStorage.setItem("submissions", JSON.stringify(existing));

      window.location.href = "success.html";
    });
    // Mobile dropdown logic
document.querySelectorAll(".mobile-select").forEach(select => {
  const display = select.querySelector(".custom-select-display");
  const options = select.querySelector(".custom-select-options").children;
  const realSelect = select.previousElementSibling; // connects to actual <select>

  display.addEventListener("click", () => {
    select.classList.toggle("open");
  });

  Array.from(options).forEach(opt => {
    opt.addEventListener("click", () => {
      display.textContent = opt.innerText;
      realSelect.value = opt.innerText;  // sync actual select value
      select.classList.remove("open");
    });
  });
});

document.addEventListener("click", e => {
  document.querySelectorAll(".mobile-select.open").forEach(select => {
    if (!select.contains(e.target)) select.classList.remove("open");
  });
});

  </script>

</body>
</html>
